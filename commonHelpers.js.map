{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nfunction convertMs(ms) {\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    const days = Math.floor(ms / day);\n    const hours = Math.floor((ms % day) / hour);\n    const minutes = Math.floor(((ms % day) % hour) / minute);\n    const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n    return { days, hours, minutes, seconds };\n};\n\nfunction processingTime() {\n    if (userSelectedDate > Date.now()) {\n        const remainingTime = userSelectedDate - Date.now();\n        const { days, hours, minutes, seconds } = convertMs(remainingTime);\n\n        daysElem.textContent = addLeadingZero(days);\n        hoursElem.textContent = addLeadingZero(hours);\n        minutesElem.textContent = addLeadingZero(minutes);\n        secondsElem.textContent = addLeadingZero(seconds);\n    } else {\n        clearInterval(intervalID);\n        inputID.removeAttribute('disabled');\n    }\n};\n\nfunction addLeadingZero(num) {\n    return num.toString().padStart(2, '0');\n};\n\nlet userSelectedDate;\nlet intervalID = null;\nconst inputID = document.querySelector('#datetime-picker');\nlet daysElem = document.querySelector('[data-days]');\nlet hoursElem = document.querySelector('[data-hours]');\nlet minutesElem = document.querySelector('[data-minutes]');\nlet secondsElem = document.querySelector('[data-seconds]');\n\nconst btnStart = document.querySelector('[data-start]');\nbtnStart.setAttribute('disabled', true);\nbtnStart.addEventListener('click', () => {\n    btnStart.setAttribute('disabled', true);\n    inputID.setAttribute('disabled', true);\n    intervalID = setInterval(processingTime, 1000);\n});\n\nflatpickr(\"#datetime-picker\", {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n    onClose(selectedDates) {\n        if (selectedDates[0] > Date.now()) {\n            userSelectedDate = new Date(selectedDates[0].toISOString());\n            btnStart.removeAttribute('disabled');\n        } else {\n            btnStart.setAttribute('disabled', true);\n            iziToast.show({\n                title: 'Error',\n                titleColor: '#FFFFFF',\n                message: 'Please choose a date in the future',\n                messageColor: '#FFFFFF',\n                messageSize: '16px',\n                backgroundColor: '#EF4040',\n                iconUrl: errorIcon,\n                position: 'topRight'\n            });\n        }\n    },\n});"],"names":["convertMs","ms","days","hours","minutes","seconds","processingTime","userSelectedDate","remainingTime","daysElem","addLeadingZero","hoursElem","minutesElem","secondsElem","intervalID","inputID","num","btnStart","flatpickr","selectedDates","iziToast"],"mappings":"2GAKA,SAASA,EAAUC,EAAI,CAMnB,MAAMC,EAAO,KAAK,MAAMD,EAAK,KAAG,EAC1BE,EAAQ,KAAK,MAAOF,EAAK,MAAO,IAAI,EACpCG,EAAU,KAAK,MAAQH,EAAK,MAAO,KAAQ,GAAM,EACjDI,EAAU,KAAK,MAASJ,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C,CAEA,SAASC,GAAiB,CACtB,GAAIC,EAAmB,KAAK,MAAO,CAC/B,MAAMC,EAAgBD,EAAmB,KAAK,IAAG,EAC3C,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYL,EAAUQ,CAAa,EAEjEC,EAAS,YAAcC,EAAeR,CAAI,EAC1CS,EAAU,YAAcD,EAAeP,CAAK,EAC5CS,EAAY,YAAcF,EAAeN,CAAO,EAChDS,EAAY,YAAcH,EAAeL,CAAO,CACxD,MACQ,cAAcS,CAAU,EACxBC,EAAQ,gBAAgB,UAAU,CAE1C,CAEA,SAASL,EAAeM,EAAK,CACzB,OAAOA,EAAI,SAAU,EAAC,SAAS,EAAG,GAAG,CACzC,CAEA,IAAIT,EACAO,EAAa,KACjB,MAAMC,EAAU,SAAS,cAAc,kBAAkB,EACzD,IAAIN,EAAW,SAAS,cAAc,aAAa,EAC/CE,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAEzD,MAAMI,EAAW,SAAS,cAAc,cAAc,EACtDA,EAAS,aAAa,WAAY,EAAI,EACtCA,EAAS,iBAAiB,QAAS,IAAM,CACrCA,EAAS,aAAa,WAAY,EAAI,EACtCF,EAAQ,aAAa,WAAY,EAAI,EACrCD,EAAa,YAAYR,EAAgB,GAAI,CACjD,CAAC,EAEDY,EAAU,mBAAoB,CAC1B,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACfA,EAAc,CAAC,EAAI,KAAK,IAAG,GAC3BZ,EAAmB,IAAI,KAAKY,EAAc,CAAC,EAAE,YAAW,CAAE,EAC1DF,EAAS,gBAAgB,UAAU,IAEnCA,EAAS,aAAa,WAAY,EAAI,EACtCG,EAAS,KAAK,CACV,MAAO,QACP,WAAY,UACZ,QAAS,qCACT,aAAc,UACd,YAAa,OACb,gBAAiB,UACjB,QAAS,UACT,SAAU,UAC1B,CAAa,EAER,CACL,CAAC"}